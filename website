//html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Ticket Booking</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Movie Ticket Booking</h1>

        <label for="movie">Select a Movie:</label>
        <select id="movie">
            <option value="10">Avengers - $10</option>
            <option value="12">Batman - $12</option>
            <option value="8">Spiderman - $8</option>
            <option value="15">Superman - $15</option>
        </select>

        <label for="customerName">Your Name:</label>
        <input type="text" id="customerName" placeholder="Enter your name" required>

        <label for="date">Select Date:</label>
        <input type="date" id="date" required>

        <label for="time">Select Time:</label>
        <input type="time" id="time" required>

        <div class="screen"></div>

        <div class="seat-container">
            <div class="row">
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat occupied"></div>
                <div class="seat"></div>
                <div class="seat"></div>
            </div>
            <div class="row">
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat"></div>
                <div class="seat occupied"></div>
                <div class="seat"></div>
            </div>
        </div>

        <p class="info">
            Selected Seats: <span id="count">0</span> | Total Price: $<span id="total">0</span>
        </p>

        <button id="proceedToPayment">Proceed to Payment</button>

        <div id="paymentSection" class="hidden">
            <h2>ðŸ’³ Payment Details</h2>

            <label for="paymentMethod">Select Payment Method:</label>
            <select id="paymentMethod">
                <option value="credit">Credit Card</option>
                <option value="paypal">PayPal</option>
                <option value="upi">UPI</option>
            </select>

            <div id="cardDetails" class="hidden">
                <label for="cardNumber">Card Number:</label>
                <input type="text" id="cardNumber" placeholder="Enter card number">
                <label for="expiryDate">Expiry Date:</label>
                <input type="month" id="expiryDate">
                <label for="cvv">CVV:</label>
                <input type="text" id="cvv" placeholder="123">
            </div>

            <div id="upiDetails" class="hidden">
                <label for="upiID">UPI ID:</label>
                <input type="text" id="upiID" placeholder="example@upi">
            </div>

            <button id="confirmPayment">Confirm Payment</button>
        </div>

        <div id="ticket" class="ticket hidden">
            <h2>ðŸŽŸ Movie Ticket ðŸŽŸ</h2>
            <p><strong>Name:</strong> <span id="ticketName"></span></p>
            <p><strong>Movie:</strong> <span id="ticketMovie"></span></p>
            <p><strong>Date:</strong> <span id="ticketDate"></span></p>
            <p><strong>Time:</strong> <span id="ticketTime"></span></p>
            <p><strong>Seats:</strong> <span id="ticketSeats"></span></p>
            <p><strong>Total Price:</strong> $<span id="ticketTotal"></span></p>
            <p><strong>Payment Method:</strong> <span id="ticketPayment"></span></p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

//css
body {
    font-family: Arial, sans-serif;
    background: #2c3e50;
    color: white;
    text-align: center;
    padding: 20px;
}

.container {
    max-width: 600px;
    margin: auto;
}

select, input {
    display: block;
    width: 100%;
    padding: 10px;
    margin: 10px 0;
}

.screen {
    background: black;
    height: 50px;
    width: 100%;
    margin: 20px 0;
}

.seat-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    align-items: center;
}

.row {
    display: flex;
    gap: 10px;
}

.seat {
    width: 30px;
    height: 30px;
    background: #27ae60;
    cursor: pointer;
}

.seat.occupied {
    background: #e74c3c;
    cursor: not-allowed;
}

.seat.selected {
    background: #f1c40f;
}

button {
    background: #f39c12;
    padding: 10px;
    border: none;
    cursor: pointer;
}

.hidden {
    display: none;
}

#paymentSection {
    background: #f1f1f1;
    padding: 15px;
    margin-top: 20px;
    color: black;
}

//js
const movieSelect = document.getElementById("movie");
const seats = document.querySelectorAll(".seat:not(.occupied)");
const count = document.getElementById("count");
const total = document.getElementById("total");
const proceedToPaymentBtn = document.getElementById("proceedToPayment");
const confirmPaymentBtn = document.getElementById("confirmPayment");
const paymentSection = document.getElementById("paymentSection");

const ticketName = document.getElementById("ticketName");
const ticketMovie = document.getElementById("ticketMovie");
const ticketDate = document.getElementById("ticketDate");
const ticketTime = document.getElementById("ticketTime");
const ticketSeats = document.getElementById("ticketSeats");
const ticketTotal = document.getElementById("ticketTotal");
const ticketPayment = document.getElementById("ticketPayment");

let ticketPrice = +movieSelect.value;

function updateSelectedCount() {
    const selectedSeats = document.querySelectorAll(".seat.selected");
    count.textContent = selectedSeats.length;
    total.textContent = selectedSeats.length * ticketPrice;
}

seats.forEach(seat => {
    seat.addEventListener("click", () => {
        if (!seat.classList.contains("occupied")) {
            seat.classList.toggle("selected");
            updateSelectedCount();
        }
    });
});

proceedToPaymentBtn.addEventListener("click", () => {
    if (count.textContent == "0") {
        alert("Please select at least one seat.");
        return;
    }
    paymentSection.classList.remove("hidden");
});

confirmPaymentBtn.addEventListener("click", () => {
    ticketName.textContent = document.getElementById("customerName").value;
    ticketMovie.textContent = movieSelect.options[movieSelect.selectedIndex].text;
    ticketDate.textContent = document.getElementById("date").value;
    ticketTime.textContent = document.getElementById("time").value;
    ticketSeats.textContent = [...document.querySelectorAll(".seat.selected")].map((s, i) => `S${i + 1}`).join(", ");
    ticketTotal.textContent = total.textContent;
    ticketPayment.textContent = document.getElementById("paymentMethod").options[document.getElementById("paymentMethod").selectedIndex].text;

    document.getElementById("ticket").classList.remove("hidden");
});
